
<app-header></app-header>
<div class="signup-container">
  <div class="left-section">
    <div class="content-wrapper">
      <h1>Create Account</h1>
      <p class="subtitle">Join our secure payment platform</p>

      <form class="signup-form" [formGroup]="signupForm" (ngSubmit)="onSubmit()">
        
        <div class="server-error" *ngIf="serverErrorMessage">
          {{ serverErrorMessage }}
        </div>


        <div class="form-group">
          <label>Username</label>
          <input type="text" placeholder="Enter your username" formControlName="userName">
          <div class="error-message" *ngIf="showError('userName')">
            <div *ngIf="signupForm.get('userName')?.errors?.['required']">Username is required</div>
            <div *ngIf="signupForm.get('userName')?.errors?.['minlength']">Minimum 4 characters</div>
            <div *ngIf="signupForm.get('userName')?.errors?.['maxlength']">Maximum 16 characters</div>
            <div *ngIf="signupForm.get('userName')?.errors?.['serverError']">
              {{ signupForm.get('userName')?.errors?.['serverError'] }}
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>First Name</label>
          <input type="text" placeholder="Enter first name" formControlName="firstName">
          <div class="error-message" *ngIf="showError('firstName')">
            <div *ngIf="signupForm.get('firstName')?.errors?.['required']">Username is required</div>
            <div *ngIf="signupForm.get('firstName')?.errors?.['minlength']">Minimum 4 characters</div>
            <div *ngIf="signupForm.get('firstName')?.errors?.['maxlength']">Maximum 16 characters</div>
            <div *ngIf="signupForm.get('firstName')?.errors?.['serverError']">
              {{ signupForm.get('firstName')?.errors?.['serverError'] }}
            </div>
          </div>
        </div>

   
        <div class="form-group">
          <label>Last Name</label>
          <input type="text" placeholder="Enter last name" formControlName="lastName">
          <div class="error-message" *ngIf="showError('lastName')">
            <div *ngIf="signupForm.get('lastName')?.errors?.['required']">Username is required</div>
            <div *ngIf="signupForm.get('lastName')?.errors?.['minlength']">Minimum 4 characters</div>
            <div *ngIf="signupForm.get('lastName')?.errors?.['maxlength']">Maximum 16 characters</div>
            <div *ngIf="signupForm.get('lastName')?.errors?.['serverError']">
              {{ signupForm.get('lastName')?.errors?.['serverError'] }}
            </div>
          </div>
        </div>

 
        <div class="form-group">
          <label>Email</label>
          <input type="email" placeholder="Enter email" formControlName="email">
          <div class="error-message" *ngIf="showError('email')">
            <div *ngIf="signupForm.get('email')?.errors?.['required']">Email is required</div>
            <div *ngIf="signupForm.get('email')?.errors?.['email']">Invalid email format</div>
            <div *ngIf="signupForm.get('email')?.errors?.['serverError']">
              {{ signupForm.get('email')?.errors?.['serverError'] }}
            </div>
          </div>
        </div>

      
        <div class="form-group">
          <label>Password</label>
          <input type="password" placeholder="••••••••" formControlName="password">
          <div class="error-message" *ngIf="showError('password')">
            <div *ngIf="signupForm.get('password')?.errors?.['required']">password is required</div>
            <div *ngIf="signupForm.get('password')?.errors?.['minlength']">Minimum 8 characters</div>
            <div *ngIf="signupForm.get('password')?.errors?.['maxlength']">Maximum 16 characters</div>
            <div *ngIf="signupForm.get('password')?.errors?.['serverError']">
              {{ signupForm.get('password')?.errors?.['serverError'] }}
            </div>
          </div>
        </div>

       
        <div class="form-group">
          <label>Confirm Password</label>
          <input type="password" placeholder="••••••••" formControlName="confirmPassword">
          <div class="error-message" *ngIf="showError('confirmPassword')">
            <div *ngIf="signupForm.get('confirmPassword')?.errors">Password doesn't match</div>
          </div>
        </div>

        <div class="terms">
          <label class="terms-checkbox">
            <input type="checkbox" formControlName="terms">
            <span>I agree to the <a href="#">Terms</a> and <a href="#">Privacy Policy</a></span>
          </label>
          <div class="error-message" *ngIf="showError('terms')">
            You must accept the terms
          </div>
        </div>

        <button type="submit" class="signup-button" [disabled]="signupForm.invalid || isSubmitting">
          <span *ngIf="!isSubmitting">Create Account</span>
          <span *ngIf="isSubmitting" class="spinner"></span>
        </button>

 
        <div class="separator">
          <span>or sign up with</span>
        </div>

        <div class="social-login">
          <button type="button" (click)="btnGoogle()"class="social-button google">
            <i class="fab fa-google"></i>
            Google
          </button>
          <button type="button" (click)="btnApple()" class="social-button apple">
            <i class="fab fa-apple"></i>
            Apple
          </button>
        </div>

        <p class="login-link">
          Already have an account? <a routerLink="/signin">Sign in</a>
        </p>
      </form>
    </div>
  </div>

  
    <div class="right-section">
      <div class="background-gradient"></div>
      <div class="feature-text">
        <h2>Start Your Financial Journey</h2>
        <p>Get access to seamless payments and bill management</p>
      </div>
    </div>
  </div>


  <app-coming-soon 
  *ngIf="showComingSoon" 
  (close)="showComingSoon = false" ></app-coming-soon>