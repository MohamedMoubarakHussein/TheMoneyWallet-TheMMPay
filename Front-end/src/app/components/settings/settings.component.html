<div class="max-w-7xl mx-auto my-8 p-8 animate-fadeInUp">
  <!-- Header Section -->
  <div class="flex justify-between items-center mb-8">
    <div>
      <h1 class="text-3xl font-bold text-text-dark">Settings</h1>
      <p class="text-gray-600">Customize your TheMMPay experience</p>
    </div>
    <div class="flex gap-4">
      <button class="py-2 px-4 rounded-lg font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" (click)="exportSettings()">Export</button>
      <label class="py-2 px-4 rounded-lg font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors cursor-pointer">
        Import
        <input type="file" accept=".json" (change)="importSettings($event)" class="hidden">
      </label>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading$ | async" class="flex justify-center items-center h-64">
    <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-primary"></div>
  </div>

  <!-- Settings Content -->
  <div *ngIf="(isLoading$ | async) === false" class="space-y-12">
    <!-- Theme Settings -->
    <div class="p-8 bg-white rounded-2xl shadow-lg" @fadeInUp>
      <h3 class="text-xl font-semibold text-text-dark mb-6">Theme & Appearance</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div>
          <h4 class="font-medium text-text-dark mb-2">Theme Mode</h4>
          <div class="flex gap-2">
            <button *ngFor="let theme of getAvailableThemes()" 
                    class="py-2 px-4 rounded-lg border-2 transition-colors"
                    [ngClass]="(currentTheme$ | async) === theme.value ? 'border-primary bg-primary/10' : 'border-gray-200'"
                    (click)="onThemeChange(theme.value)">
              {{ theme.icon }} {{ theme.label }}
            </button>
          </div>
        </div>
        <div>
          <h4 class="font-medium text-text-dark mb-2">Quick Toggle</h4>
          <button class="py-2 px-4 rounded-lg border-2 border-gray-200" (click)="toggleTheme()">
            <span *ngIf="(isDarkMode$ | async) === false">‚òÄÔ∏è Switch to Dark Mode</span>
            <span *ngIf="isDarkMode$ | async">üåô Switch to Light Mode</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Preferences Settings -->
    <div class="p-8 bg-white rounded-2xl shadow-lg" @fadeInUp>
      <h3 class="text-xl font-semibold text-text-dark mb-6">Preferences</h3>
      <form [formGroup]="preferencesForm" (ngSubmit)="onPreferencesSubmit()">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Form fields -->
        </div>
        <div class="flex justify-end gap-4 mt-6">
          <button type="button" class="py-2 px-4 rounded-lg font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" (click)="preferencesForm.reset()">Reset</button>
          <button type="submit" class="py-2 px-4 rounded-lg font-semibold bg-primary text-white hover:bg-primary-dark transition-colors">Save Preferences</button>
        </div>
      </form>
    </div>

    <!-- Notification Settings -->
    <div class="p-8 bg-white rounded-2xl shadow-lg" @fadeInUp>
      <h3 class="text-xl font-semibold text-text-dark mb-6">Notifications</h3>
      <form [formGroup]="notificationForm" (ngSubmit)="onNotificationSubmit()">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Form fields -->
        </div>
        <div class="flex justify-end gap-4 mt-6">
          <button type="button" class="py-2 px-4 rounded-lg font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" (click)="notificationForm.reset()">Reset</button>
          <button type="submit" class="py-2 px-4 rounded-lg font-semibold bg-primary text-white hover:bg-primary-dark transition-colors">Save Notifications</button>
        </div>
      </form>
    </div>
  </div>
</div>
