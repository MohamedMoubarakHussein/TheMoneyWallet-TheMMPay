<div class="min-h-screen bg-gray-50 flex justify-center items-center p-8" @fadeInUp>
  <div class="bg-white rounded-3xl p-10 shadow-2xl w-full max-w-md">
    <div class="text-center mb-8">
      <button class="absolute left-8 top-8 bg-gray-100 text-blue-900 p-3 rounded-xl hover:bg-gray-200" (click)="goBack()">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h2 class="text-3xl font-bold text-blue-900 mb-4">Verify Your Email</h2>
      <p class="text-gray-600">
        We've sent a 6-digit verification code to
        <strong class="text-blue-900">{{ email }}</strong>
      </p>
    </div>

    <div class="verification-form">
      <div class="mb-6">
        <input 
          type="text" 
          class="w-full p-4 text-center text-2xl font-bold border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-blue-500"
          [(ngModel)]="verificationCode"
          placeholder="------"
          maxlength="6"
          [disabled]="(isLoading$ | async) ?? false"
        >
      </div>

      <div class="mb-6 p-4 bg-red-100 text-red-600 rounded-xl" *ngIf="errorMessage$ | async as errorMessage">
        {{ errorMessage }}
      </div>

      <div class="mb-6 p-4 bg-green-100 text-green-600 rounded-xl" *ngIf="successMessage$ | async as successMessage">
        {{ successMessage }}
      </div>

      <button 
        class="w-full p-4 rounded-2xl font-semibold bg-blue-900 text-white hover:bg-blue-800 disabled:bg-gray-400"
        (click)="verifyCode()"
        [disabled]="(isLoading$ | async) || verificationCode.length !== 6"
      >
        <span *ngIf="(isLoading$ | async) === false">Verify Email</span>
        <span *ngIf="isLoading$ | async"><i class="fas fa-spinner fa-spin"></i> Verifying...</span>
      </button>

      <div class="text-center mt-6">
        <p *ngIf="(canResend$ | async) === false" class="text-gray-600">
          Resend code in {{ resendCountdown$ | async }}s
        </p>
        <button 
          *ngIf="canResend$ | async"
          class="text-blue-900 hover:underline"
          (click)="resendCode()"
          [disabled]="(isLoading$ | async) ?? false"
        >
          Resend Code
        </button>
      </div>
    </div>
  </div>
</div>
